{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction ProductComponent_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ProductComponent_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.decreaseQuantity());\n    });\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ProductComponent {\n  constructor() {\n    // We must initialize EventEmitter in constructor\n    this.changeQuantity = new EventEmitter();\n  }\n  ngOnInit() {\n    // Initializing productClasses and productStyles objects\n    this.productClasses = {\n      \"highlight\": this.product.onSale\n    };\n    this.productStyles = {\n      \"font-size\": this.product.quantity >= 10 ? \"1.5rem\" : \"1rem\"\n    };\n  }\n  // Instead of increasing quantity here, we emit an event and send necessary data to parent component\n  increaseQuantity() {\n    this.changeQuantity.emit({\n      product: this.product,\n      amountChange: 1\n    });\n  }\n  // Instead of decreasing quantity here, we emit an event and send necessary data to parent component\n  decreaseQuantity() {\n    this.changeQuantity.emit({\n      product: this.product,\n      amountChange: -1\n    });\n  }\n}\nProductComponent.ɵfac = function ProductComponent_Factory(t) {\n  return new (t || ProductComponent)();\n};\nProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductComponent,\n  selectors: [[\"app-product\"]],\n  inputs: {\n    product: \"product\"\n  },\n  outputs: {\n    changeQuantity: \"changeQuantity\"\n  },\n  decls: 14,\n  vars: 10,\n  consts: [[1, \"product-item\", \"card\", \"text-center\", \"p-3\", 2, \"width\", \"17rem\", 3, \"ngClass\"], [\"alt\", \"\", 1, \"card-img-top\", \"my-3\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\", 3, \"ngStyle\"], [1, \"product-item__btn\", \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"product-item__btn btn btn-primary\", 3, \"click\", 4, \"ngIf\"]],\n  template: function ProductComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"h5\", 3);\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵpipe(7, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\")(9, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function ProductComponent_Template_button_click_9_listener() {\n        return ctx.increaseQuantity();\n      });\n      i0.ɵɵtext(10, \"+\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"span\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(13, ProductComponent_button_13_Template, 2, 0, \"button\", 6);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngClass\", ctx.productClasses);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"src\", ctx.product.imageUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.product.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngStyle\", ctx.productStyles);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 7, ctx.product.price, \"USD\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.product.quantity);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.product.quantity >= 1);\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgIf, i1.NgStyle, i1.CurrencyPipe],\n  styles: [\".highlight[_ngcontent-%COMP%] {\\n    background-color: lightseagreen;\\n}\\n\\n.product-item__btn[_ngcontent-%COMP%] {\\n    padding: 5px;\\n    margin: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcHJvZHVjdC9wcm9kdWN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0lBQ0ksK0JBQStCO0FBQ25DOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFlBQVk7QUFDaEIiLCJzb3VyY2VzQ29udGVudCI6WyJcbi5oaWdobGlnaHQge1xuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0c2VhZ3JlZW47XG59XG5cbi5wcm9kdWN0LWl0ZW1fX2J0biB7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIG1hcmdpbjogMTBweDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,QAA+B,eAAe;;;;;;ICUlEC,iCAA6G;IAA3DA;MAAAA;MAAA;MAAA,OAASA,wCAAkB;IAAA,EAAC;IAA+BA,iBAAC;IAAAA,iBAAS;;;ADDnI,OAAM,MAAOC,gBAAgB;EAa3BC;IACE;IACA,IAAI,CAACC,cAAc,GAAG,IAAIJ,YAAY,EAAyB;EACjE;EAEAK,QAAQ;IACJ;IACA,IAAI,CAACC,cAAc,GAAG;MACpB,WAAW,EAAE,IAAI,CAACC,OAAO,CAACC;KAC3B;IACD,IAAI,CAACC,aAAa,GAAG;MACnB,WAAW,EAAE,IAAI,CAACF,OAAO,CAACG,QAAQ,IAAI,EAAE,GAAG,QAAQ,GAAG;KACvD;EACL;EAEA;EACAC,gBAAgB;IACd,IAAI,CAACP,cAAc,CAACQ,IAAI,CAAC;MAACL,OAAO,EAAE,IAAI,CAACA,OAAO;MAAEM,YAAY,EAAE;IAAC,CAAC,CAAC;EACpE;EAEA;EACAC,gBAAgB;IACd,IAAI,CAACV,cAAc,CAACQ,IAAI,CAAC;MAACL,OAAO,EAAE,IAAI,CAACA,OAAO;MAAEM,YAAY,EAAE,CAAC;IAAC,CAAC,CAAC;EACrE;;AApCWX,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAa;EAAAC;IAAAT;EAAA;EAAAU;IAAAb;EAAA;EAAAc;EAAAC;EAAAC;EAAAC;IAAA;MCR7BpB,8BAAgG;MAC5FA,yBAA+D;MAE/DA,8BAAuB;MACIA,YAAgB;MAAAA,iBAAK;MAC5CA,4BAA+C;MAAAA,YAAkC;;MAAAA,iBAAI;MACrFA,2BAAK;MACiDA;QAAA,OAASqB,sBAAkB;MAAA,EAAC;MAACrB,kBAAC;MAAAA,iBAAS;MACzFA,6BAAM;MAAAA,aAAoB;MAAAA,iBAAO;MACjCA,yEAAuH;MAC3HA,iBAAM;;;MAVuDA,4CAA0B;MAC5DA,eAAwB;MAAxBA,4DAAwB;MAG5BA,eAAgB;MAAhBA,sCAAgB;MAClBA,eAAyB;MAAzBA,2CAAyB;MAACA,eAAkC;MAAlCA,oEAAkC;MAGvEA,eAAoB;MAApBA,0CAAoB;MACsDA,eAA2B;MAA3BA,gDAA2B","names":["EventEmitter","i0","ProductComponent","constructor","changeQuantity","ngOnInit","productClasses","product","onSale","productStyles","quantity","increaseQuantity","emit","amountChange","decreaseQuantity","selectors","inputs","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/dejang/Workspace Teaching/Advanced-Web-Programming/Exercises 6/ecommerce/src/app/product/product.component.ts","/home/dejang/Workspace Teaching/Advanced-Web-Programming/Exercises 6/ecommerce/src/app/product/product.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\nimport { Product } from '../model/product';\nimport { ProductQuantityChange } from '../model/product-quantity-change';\n\n@Component({\n  selector: 'app-product',\n  templateUrl: './product.component.html',\n  styleUrls: ['./product.component.css']\n})\nexport class ProductComponent implements OnInit{\n  // Input decorator allows us to pass data from parent to child component\n  @Input() product: Product;\n  // Output decorator allows us to pass data from child to parent component\n  // EventEmitter is used to emit custom made events\n  // ProductQuantityChange is a custom made event (interface)\n  @Output() changeQuantity: EventEmitter<ProductQuantityChange>;\n\n  // Object to store classes for ngClass directive\n  productClasses: {[key: string]: boolean}\n  // Object to store styles for ngStyle directive\n  productStyles: {[key: string]: string}\n\n  constructor() {\n    // We must initialize EventEmitter in constructor\n    this.changeQuantity = new EventEmitter<ProductQuantityChange>();\n  };\n\n  ngOnInit(): void {\n      // Initializing productClasses and productStyles objects\n      this.productClasses = {\n        \"highlight\": this.product.onSale,\n      }\n      this.productStyles = {\n        \"font-size\": this.product.quantity >= 10 ? \"1.5rem\" : \"1rem\"\n      }\n  }\n\n  // Instead of increasing quantity here, we emit an event and send necessary data to parent component\n  increaseQuantity(){\n    this.changeQuantity.emit({product: this.product, amountChange: 1});\n  }\n\n  // Instead of decreasing quantity here, we emit an event and send necessary data to parent component\n  decreaseQuantity(){\n    this.changeQuantity.emit({product: this.product, amountChange: -1});\n  }\n  \n}\n","\n<div class=\"product-item card text-center p-3\" style=\"width: 17rem;\" [ngClass]=\"productClasses\">\n    <img class=\"card-img-top my-3\" [src]=\"product.imageUrl\" alt=\"\">\n    \n    <div class=\"card-body\">\n        <h5 class=\"card-title\">{{product.name}}</h5>\n        <p class=\"card-text\" [ngStyle]=\"productStyles\">{{product.price | currency:\"USD\"}}</p>\n        <div>\n            <button class=\"product-item__btn btn btn-primary\" (click)=\"increaseQuantity()\">+</button>\n            <span>{{product.quantity}}</span>\n            <button class=\"product-item__btn btn btn-primary\" (click)=\"decreaseQuantity()\" *ngIf=\"product.quantity >= 1\">-</button>\n        </div>\n    </div>\n    \n</div>\n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}